{"version":3,"sources":["../../lib/music.js"],"names":["SpotifyWebApi","require","api","clientId","clientSecret","redirectUri","clientCredentialsGrant","then","data","console","log","body","setAccessToken","err","spotify","query","Promise","resolve","reject","searchTracks","song","tracks","items","url","external_urls","name","artists"],"mappings":";;;;;;;;AAAA;;;;AAIA,IAAMA,gBAAgBC,QAAQ,sBAAR,CAAtB;AACA,IAAMC,MAAM,IAAIF,aAAJ,CAAkB;AAC1BG,cAAW,kCADe;AAE1BC,kBAAe,kCAFW;AAG1BC,iBAAc;AAHY,CAAlB,CAAZ;;AAMAH,IAAII,sBAAJ,GACKC,IADL,CACU,UAACC,IAAD,EAAU;AACZC,YAAQC,GAAR,CAAY,iCAAiCF,KAAKG,IAAL,CAAU,YAAV,CAA7C;AACAF,YAAQC,GAAR,CAAY,yBAAyBF,KAAKG,IAAL,CAAU,cAAV,CAArC;;AAEA;AACAT,QAAIU,cAAJ,CAAmBJ,KAAKG,IAAL,CAAU,cAAV,CAAnB;AACH,CAPL,EAOO,UAACE,GAAD,EAAS;AACRJ,YAAQC,GAAR,CAAY,sDAAZ,EAAoEG,GAApE;AACH,CATL;;AAWA;;;;;;AAMO,IAAMC;AAAA,uEAAU,iBAAOC,KAAP;AAAA;AAAA;AAAA;AAAA;AAAA,yDACZ,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpChB,gCAAIiB,YAAJ,CAAiBJ,KAAjB,EACKR,IADL,CACU,gBAAQ;AACV,oCAAIa,OAAOZ,KAAKG,IAAL,CAAUU,MAAV,CAAiBC,KAAjB,CAAuB,CAAvB,CAAX;AACA,oCAAIC,MAAMH,KAAKI,aAAL,CAAmBV,OAA7B;AACAL,wCAAQC,GAAR,CAAYa,GAAZ;;AAEAN,wCAAQ;AACJN,0CAAM,YAAYS,KAAKK,IAAjB,GAAwB,MAAxB,GAAiCL,KAAKM,OAAL,CAAa,CAAb,EAAgBD,IAAjD,GAAwD,gBAD1D;AAEJF,yCAAKA;AAFD,iCAAR;AAIH,6BAVL;AAWH,yBAZM,CADY;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAV;;AAAA;AAAA;AAAA;AAAA,GAAN","file":"music.js","sourcesContent":["/**\n * Created by sanil on 11/19/17.\n */\n\nconst SpotifyWebApi = require('spotify-web-api-node');\nconst api = new SpotifyWebApi({\n    clientId : 'dae83b442fdf4fa586e0585d9eb5b357',\n    clientSecret : '86cffa6a2c7e49f98914accdca8da9b6',\n    redirectUri : 'http://sanil.co'\n});\n\napi.clientCredentialsGrant()\n    .then((data) => {\n        console.log('The access token expires in ' + data.body['expires_in']);\n        console.log('The access token is ' + data.body['access_token']);\n\n        // Save the access token so that it's used in future calls\n        api.setAccessToken(data.body['access_token']);\n    }, (err) => {\n        console.log('Something went wrong when retrieving an access token', err);\n    });\n\n/**\n * Grabs link to Spotify song and returns.\n *\n * @param query\n * @returns {Promise.<TResult>}\n */\nexport const spotify = async (query) => {\n    return new Promise((resolve, reject) => {\n        api.searchTracks(query)\n            .then(data => {\n                let song = data.body.tracks.items[0];\n                let url = song.external_urls.spotify;\n                console.log(url);\n\n                resolve({\n                    body: \"Here's \" + song.name + \" by \" + song.artists[0].name + \" from Spotify.\",\n                    url: url\n                });\n            })\n    });\n};"]}