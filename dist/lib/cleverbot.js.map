{"version":3,"sources":["../../lib/cleverbot.js"],"names":["db","CleverbotAPI","require","cleverbot","ask","query","threadID","Promise","resolve","reject","getThreadInfo","then","res","getReply","input","cs","context","error","response","updateContext","output"],"mappings":";;;;;;;AAIA;;IAAYA,E;;;;2cAJZ;;;;AAKA,IAAMC,eAAeC,QAAQ,eAAR,CAArB;AACA,IAAMC,YAAY,IAAIF,YAAJ,CAAiB,6BAAjB,CAAlB;;AAEO,IAAMG;AAAA,uEAAM,iBAAOC,KAAP,EAAcC,QAAd;AAAA;AAAA;AAAA;AAAA;AAAA,yDACR,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpCT,+BAAGU,aAAH,CAAiBJ,QAAjB,EACKK,IADL,CACU,UAACC,GAAD,EAAS;AACXT,0CAAUU,QAAV,CAAmB;AACfC,2CAAOT,KADQ;AAEfU,wCAAIH,IAAII;AAFO,iCAAnB,EAGG,UAACC,KAAD,EAAQC,QAAR,EAAqB;AACpB,wCAAGD,KAAH,EAAU,OAAOR,OAAOQ,KAAP,CAAP;;AAEVjB,uCAAGmB,aAAH,CAAiBb,QAAjB,EAA2BY,SAASH,EAApC;AACAP,4CAAQU,SAASE,MAAjB;AACH,iCARD;AASH,6BAXL;AAYH,yBAbM,CADQ;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAN;;AAAA;AAAA;AAAA;AAAA,GAAN","file":"cleverbot.js","sourcesContent":["/**\n * Created by sanil on 11/19/17.\n */\n\nimport * as db from './db-functions';\nconst CleverbotAPI = require('cleverbot-api');\nconst cleverbot = new CleverbotAPI('CC5iybi6FlNywj957bERFy73w4A');\n\nexport const ask = async (query, threadID) => {\n    return new Promise((resolve, reject) => {\n        db.getThreadInfo(threadID)\n            .then((res) => {\n                cleverbot.getReply({\n                    input: query,\n                    cs: res.context\n                }, (error, response) => {\n                    if(error) return reject(error);\n\n                    db.updateContext(threadID, response.cs);\n                    resolve(response.output);\n                });\n            });\n    });\n\n};"]}